@if (user.$signedInUser()) {

  <div class="messages">
    <p-message size="small" severity="secondary">
      Profile pictures must be in JPEG format.
    </p-message>
  </div>

  <div class="main">
    <div class="user-profile">
      <i class="pi pi-camera"></i>
      @if ($isUpdatingAvatar()) {
        <p-avatar
          size="xlarge"
          shape="circle">
          <p-progress-spinner></p-progress-spinner>
        </p-avatar>
      } @else {
        <p-avatar
          size="xlarge"
          shape="circle"
          [style]="{height: '8rem', width: '8rem'}"
          [icon]="user.$signedInUser()?.photoURL ? undefined : 'pi pi-user'"
          [image]="user.$signedInUser()?.photoURL ?? undefined"
          (click)="updateProfileImage()">
        </p-avatar>
      }

    </div>
    <div class="details">
      <h2>{{ user.$signedInUser()?.email }}</h2>
      <h4>Joined: {{ user.$signedInUser()?.metadata?.creationTime | date: 'MMM, d, y' }}</h4>

      <p-divider></p-divider>
      <div class="avatars">
              <p-avatar-group>
        @for (user of $users(); track user.uid) {
          <p-avatar
            size="large"
            [label]="user.photoURL ? undefined : user.email?.[0]"
            [pTooltip]="user.email ?? undefined"
            [image]="user.photoURL ?? undefined"
            [fitContent]="false"
            shape="circle"></p-avatar>
        }
              </p-avatar-group>
      </div>

      <p-divider></p-divider>

      <h3>{{($completed() / $totalProgress()) * 100}}% / 100% <small>| Completed</small></h3>
<!--      <p-progress-bar [value]="($completed() / $totalProgress()) * 100" [showValue]="true"></p-progress-bar>-->
    </div>
  </div>

}



